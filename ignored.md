# Ignored Tasks

**How to maintain this file**
- Keep task IDs sequential starting from `I1` as you add new rows; leave existing IDs in place to avoid churn after merges.
- Record only tasks that have been explicitly declined (e.g., would reduce security, violate AGENTS.md, or create unacceptable risk).
- Document a clear reason for ignoring each task and the conditions under which it should be revisited.
- When an ignored task becomes actionable, move it to `todo.md` (with a new `T` ID) and remove it from this table.
- Preserve concise descriptions and avoid duplicate entries; consolidate overlapping requests and capture the rationale in `notes`.

**Column descriptions**
- `id`: Sequential task identifier (`I1`, `I2`, …); reuse the next available number when adding new tasks.
- `status`: Always `ignored` for tasks captured here.
- `description`: One-line summary of the declined change.
- `source`: Who requested it and short quote/context.
- `file_location`: Primary file or module the request targeted.
- `line_numbers`: Approximate line range or section to reference.
- `reason`: Why the task was declined (security, correctness, or policy rationale).
- `revisit_triggers`: Specific conditions under which to reevaluate the task.
- `notes`: Extra context, related tasks, or follow-up considerations.

| id | status | description | source | file_location | line_numbers | reason | revisit_triggers | notes |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| I1 | ignored | Remove locks for read operations to reduce contention | Reviewer: “acquiring lock for read creates unnecessary contention” | services/orchestrator/src/tools/core/FileSystemTool.ts | 121-177 | Retaining read locks prevents torn reads and aligns with security/consistency guidance. | If read operations become performance bottleneck and safety can be preserved via read-write locks. | Documented trade-off; maintains correctness over throughput. |
| I2 | ignored | Skip history persistence when releasing restored locks to reduce Redis writes | Reviewer: “Redundant history persistence during lock restore” | services/orchestrator/src/services/FileLockManager.ts | 300-324 | Persisting on release keeps Redis and in-memory history aligned for audits and recovery; skipping risks stale state. | If Redis write load from lock releases becomes problematic and alternative consistency guarantees are added. | Current persistence is lightweight and keeps restore history consistent. |
| I3 | ignored | Refactor duplicate lock acquisition logic into shared helper | Reviewer: “Duplicate lock acquisition logic” | services/orchestrator/src/services/FileLockManager.ts | 150-230; 330-400 | Duplication keeps acquire vs. restore flows explicit with different metrics/error handling; refactor risk outweighs benefit now. | If future changes require modifying both paths or maintainability degrades. | Consider helper later if behavior converges further. |
| I4 | ignored | Use only callbacks or only event dispatchers for ApprovalModal actions | Reviewer: “callbacks duplicate event dispatcher pattern; pick one approach” | apps/gui/src/lib/components/ApprovalModal.svelte | 9-70 | Changing the public API is out of scope for this collaboration-focused fix and would be a breaking UX contract. | Revisit alongside a broader ApprovalModal API review or when deprecating dispatcher usage. | Keep existing dual support for backward compatibility. |
| I5 | ignored | Show UI for collaboration error states in the editor | Reviewer: “users see no indication when collaboration fails to connect” | apps/gui/src/lib/components/ide/Editor.svelte | 160-210 | Requires UX design for in-editor error surfacing; deferring keeps scope focused on security fixes and avoids ad-hoc UI. | When a dedicated collaboration status indicator/UI pattern is available. | Logged status transitions for traceability; UI treatment to be designed later. |
| I6 | ignored | Tighten Monaco worker typing for getWorker | Reviewer: “use proper Monaco types instead of any” | apps/gui/src/lib/components/ide/Editor.svelte | 35-50 | Type refinement is low-risk but out of scope for the security-focused fixes in this PR. | When refactoring editor worker setup for TS strictness. | No runtime impact; defer to keep diff minimal. |
| I7 | ignored | Provide more specific normalizeAbsolutePath error messages | Reviewer: “return more specific error reasons (drive-relative, traversal, etc.)” | apps/gui/src/lib/stores/ide.ts | 252-286 | Changing messages risks breaking consumers/tests that expect the current string and provides limited security benefit. | If consumers request differentiated errors or tracing needs granular codes. | Validation already rejects unsafe inputs with generic error. |
| I8 | ignored | Add configurable maxConnectionAttempts/backoff for WebSocket provider | Reviewer: “make reconnection behavior configurable to avoid indefinite retries” | apps/gui/src/lib/components/ide/Editor.svelte | 244-281 | Requires UX/ops alignment on desired reconnect policy; current bounded backoff matches existing behavior. | When collaboration reconnect policy is formally defined. | Keeps current resilience characteristics without new config surface. |
| I9 | ignored | Differentiate error logging for validation vs unexpected failures in room derivation | Reviewer: “distinguish expected validation errors in deriveCollaborationRoom catch block” | apps/gui/src/lib/stores/ide.ts | 470-478 | Current generic logging keeps surface area minimal; expanding messages risks leaking context and offers limited value. | Revisit if observability requirements demand categorized error telemetry. | Validation paths already return safe error states without proceeding. |
| I10 | ignored | Emit structured audit events for collaboration joins/leaves instead of console logs | Reviewer: “Missing audit logging for collaboration events” | apps/gui/src/lib/components/ide/Editor.svelte | 184-360 | Requires wiring to observability stack; deferred to avoid introducing partial logging without backend support. | When centralized audit sink is available for client events. | Current console logging provides basic traceability; full audit path needs coordinated backend work. |
| I11 | ignored | Preserve rate limiter reset semantics when collaboration state resets | Reviewer: “Rate limiter tokens reset on resetCollaborationState allowing bursts” | apps/gui/src/lib/stores/ide.ts | 392-406 | resetCollaborationState is explicitly a full reset used for context changes/tests; keeping limiter reset avoids partially-initialized state and matches function intent. | Revisit if resetCollaborationState becomes user-triggerable at runtime or abuse is observed. | Reset already clears caches and context; maintaining consistent reset behavior keeps system predictable. |
| I12 | ignored | Pass session tokens in WebSocket query parameters for collaboration auth | Reviewer: “Missing session token authentication; include sessionToken in URL” | apps/gui/src/lib/components/ide/Editor.svelte | 265-340 | Embedding tokens in URLs risks exposure in logs/history; current flow relies on same-origin session cookies after validating authenticated sessions. | If backend adds secure header/subprotocol auth for tokens or requires token-based auth without query params. | Added inline comment clarifying cookie-based auth reliance to avoid leaking secrets. |
| I13 | ignored | Add pointer drag interaction tests for resize handles | Reviewer: “No tests for the pointer drag interactions (only keyboard tests exist)” | apps/gui/src/lib/components/layout/__tests__/layoutHandles.test.ts | n/a | jsdom environment lacks pointer capture support, making deterministic drag tests unreliable in unit suite. | If test environment adds PointerEvent/setPointerCapture support or e2e coverage is expanded. | Rely on existing e2e drag coverage; keyboard paths already unit-tested. |
| I14 | ignored | Remove Playwright install step from test:e2e to avoid reinstalling each run | Reviewer: “playwright:install runs on every invocation; consider separating setup” | apps/gui/package.json | scripts section | Keeping install within script ensures contributors and CI have browsers available without additional setup steps; removal risks failures on fresh environments. | If CI adds explicit Playwright setup and contributor docs cover manual install expectations. | Prioritize reliability for contributors over minor runtime cost; revisit with broader tooling changes. |
| I15 | ignored | Debounce layout persistence beyond RAF batching | Reviewer: “Consider debouncing localStorage writes” | apps/gui/src/lib/stores/layout.ts | 70-120 | Existing rAF batching keeps writes minimal; added debounce would complicate timing and offer limited benefit. | If profiling shows rAF writes still saturate storage during resize. | Current batching aligns with performance guidance and keeps implementation simple. |
| I16 | ignored | Bound notification ID counter to avoid overflow | Reviewer: “counter could grow indefinitely” | apps/gui/src/lib/stores/notifications.ts | 10-40 | JS number space makes overflow unlikely; added timeout cleanup covers resource concerns. | If notification volume reaches levels where IDs approach limits or wrap. | Kept simple incrementing counter to minimize overhead. |
| I17 | ignored | Wrap setPointerCapture in try/catch for resize handles | Reviewer: “Consider error boundary for setPointerCapture” | apps/gui/src/lib/components/layout/ResizableSidebar.svelte; apps/gui/src/lib/components/layout/TerminalPanel.svelte | 20-40 | Pointer capture failures are not observed in supported browsers; adding try/catch would mask issues without telemetry. | If errors are observed in real usage or new platforms require defensive handling. | Prefer fail-fast behavior during development. |
| I18 | ignored | Add schema validation (e.g., Zod) for persisted layout data | Reviewer: “Schema validation would provide stronger guarantees” | apps/gui/src/lib/stores/layout.ts | 20-70 | Existing normalization clamps and type-checks inputs; adding runtime schema adds bundle weight with limited additional safety. | If storage corruption becomes common or stronger guarantees are required. | Lightweight validation already prevents invalid state. |
| I30 | ignored | Add cooldown/backoff after terminal spawn failures before allowing new attaches | Reviewer: “Add cooldown period after spawn failures” | services/orchestrator/src/sandbox/TerminalManager.ts | 90-130 | Spawn failures are already surfaced with 1011/1013 codes and per-IP/unique-IP limits; adding a cooldown could block legitimate retries and needs a broader policy decision. | If repeated spawn failures cause load or user confusion despite existing close codes. | Current limits and error signaling already protect the service; revisit with product guidance. |
| I31 | ignored | Terminate sessions after repeated PTY write/resize errors | Reviewer: “Terminate session on repeated PTY operation failures” | services/orchestrator/src/sandbox/TerminalManager.ts | 220-240 | Existing error handling logs failures; tearing down sessions on transient PTY errors risks dropping valid users without clear recovery rules. | If telemetry shows recurring PTY operation failures leading to stuck sessions. | Requires a coordinated retry/telemetry strategy; defer to keep behavior predictable. |
| I32 | ignored | Expand terminal accessibility messaging (richer ARIA/status announcements) | Reviewer: “Add more descriptive ARIA labels and screen reader announcements” | apps/gui/src/lib/components/ide/Terminal.svelte | 240-270 | UI/UX changes need design guidance; current labels meet baseline accessibility and are out of scope for the backend-focused fixes. | If accessibility review requests specific updates or UX provides revised copy. | Defer pending design input to avoid ad-hoc messaging. |
| I19 | ignored | Make collaboration WebSocket base configurable instead of deriving from gateway | Reviewer: “Consider making WS base configurable” | apps/gui/src/lib/components/ide/Editor.svelte | 120-150 | Current environments rely on same-origin gateway; introducing config surface needs coordination beyond this PR. | If deployments require separate collaboration host. | Keep scope focused on synchronization fixes. |
| I20 | ignored | Remove eslint-disable around URLSearchParams construction | Reviewer: “Restructure to avoid lint suppression” | apps/gui/src/lib/components/ide/Editor.svelte | 300-360 | Suppression isolates imperative helper; refactor would be stylistic with no functional gain. | If lint policy changes or helper is revisited. | Defer to avoid churn. |
| I21 | ignored | Add extra configureForFile guards to avoid stale model disposal | Reviewer: “Potential race condition in configureForFile” | apps/gui/src/lib/components/ide/Editor.svelte | 150-210 | configureQueue serializes calls so later requests wait; additional guards would add noise without changing safety. | If races are observed during rapid file switches. | Current flow already checks staleness inside setupCollaboration. |
| I22 | ignored | Switch notification container to use role="alert" for errors | Reviewer: “error notifications should use role=alert” | apps/gui/src/lib/components/Notifications.svelte | 10-40 | Existing polite announcements avoid interrupting screen readers; changing roles needs UX review. | If accessibility audit requests higher priority alerts for errors. | Current behavior aligns with non-intrusive status updates. |
| I23 | ignored | Re-type Monaco getWorker first argument to number | Reviewer: “Monaco API types moduleId as number” | apps/gui/src/lib/components/ide/Editor.svelte | 30-60 | Worker selector works with string labels in our bundler; retargeting type adds no runtime benefit. | If Monaco typing change causes compiler errors or runtime mis-selection. | Keeping current type avoids churn while remaining compatible. |
| I24 | ignored | Add keyboard resize clamp unit tests at min/max bounds | Reviewer: “Optional: add coverage for min/max clamping on keyboard resize” | apps/gui/src/lib/components/layout/__tests__/layoutHandles.test.ts | 10-120 | Existing clamp logic is already validated in layout store tests and exercised by keyboard resize cases; adding more tests would be redundant for current scope. | If regressions appear in keyboard clamping behavior or clamp logic changes. | Scope kept focused on functional fixes; e2e covers pointer bounds. |
| I25 | ignored | Show reconnect countdown copy before retrying terminal socket | Reviewer: “delay message shows immediately; consider countdown” | apps/gui/src/lib/components/ide/Terminal.svelte | 90-150 | Current reconnect UI already surfaces state and keeps scope focused on error handling fixes; adding countdown is UX polish beyond requested remediation. | If product prioritizes enhanced reconnect messaging. | Kept existing messaging to avoid expanding scope during stability fix. |
| I26 | ignored | Add client-side schema validation for terminal status messages | Reviewer: “JSON parsing lacks strict type validation; consider Zod” | apps/gui/src/lib/components/ide/Terminal.svelte | 100-130 | Server enforces schemas and payload caps; adding client runtime validation increases bundle size with limited additional safety. | If untrusted client messages become a concern for UI stability. | Chose to rely on server validation and lightweight parsing to maintain performance. |
| I27 | ignored | Adjust resize observer cleanup to remove listener before RAF callback | Reviewer: “requestAnimationFrame might fire after cleanup” | apps/gui/src/lib/components/ide/Terminal.svelte | 130-150 | teardown already cancels the RAF and removes listeners; additional reshuffling offers minimal benefit and risks regressions. | If resize teardown issues are observed in production. | Existing cleanup sufficiently prevents stray resize events. |
| I28 | ignored | Add PTY output backpressure or frame dropping for slow clients | Reviewer: “Consider adding backpressure for PTY output” | services/orchestrator/src/sandbox/TerminalManager.ts | 120-200 | Would require protocol/telemetry changes and risks losing user output; current scope focused on spawn/connect fixes. | If production metrics show output buffering/backpressure issues. | Keeping straightforward broadcast behavior avoids surprise output loss while monitoring real load. |
| I29 | ignored | Auto-refresh or additional UX after max terminal reconnect attempts | Reviewer: “Consider adding auto-refresh functionality after max reconnect attempts” | apps/gui/src/lib/components/ide/Terminal.svelte | 70-140 | UX change needs design alignment and is outside reliability fix scope; manual reconnect already available. | If UX guidance requests automated refresh or more prominent action after retries exhaust. | Preserved current manual retry pattern to avoid unexpected page reloads. |
| I33 | ignored | Add idle timeout or maximum duration for terminal sessions | services/orchestrator/src/sandbox/TerminalManager.ts | 200-360 | Introducing session timeouts requires product/ops alignment and could disrupt long-running tasks; current close codes and limits already gate misuse. | If product defines terminal session lifetime requirements or operational metrics show abandoned sessions causing pressure. | Resource limits and per-IP caps mitigate abuse; deferring avoids unexpected disconnects. |
