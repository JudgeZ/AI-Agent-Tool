# Ignored Tasks

**How to maintain this file**
- Keep task IDs sequential starting from `I1`; renumber the table when adding or removing tasks to avoid gaps.
- Record only tasks that have been explicitly declined (e.g., would reduce security, violate AGENTS.md, or create unacceptable risk).
- Document a clear reason for ignoring each task and the conditions under which it should be revisited.
- When an ignored task becomes actionable, move it to `todo.md` (with a new `T` ID) and remove it from this table.
- Preserve concise descriptions and avoid duplicate entries; consolidate overlapping requests and capture the rationale in `notes`.

**Column descriptions**
- `id`: Sequential task identifier (`I1`, `I2`, …) with no gaps.
- `status`: Always `ignored` for tasks captured here.
- `description`: One-line summary of the declined change.
- `source`: Who requested it and short quote/context.
- `file_location`: Primary file or module the request targeted.
- `line_numbers`: Approximate line range or section to reference.
- `reason`: Why the task was declined (security, correctness, or policy rationale).
- `revisit_triggers`: Specific conditions under which to reevaluate the task.
- `notes`: Extra context, related tasks, or follow-up considerations.

| id | status | description | source | file_location | line_numbers | reason | revisit_triggers | notes |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| I1 | ignored | Remove locks for read operations to reduce contention | Reviewer: “acquiring lock for read creates unnecessary contention” | services/orchestrator/src/tools/core/FileSystemTool.ts | 121-177 | Retaining read locks prevents torn reads and aligns with security/consistency guidance. | If read operations become performance bottleneck and safety can be preserved via read-write locks. | Documented trade-off; maintains correctness over throughput. |
| I2 | ignored | Skip history persistence when releasing restored locks to reduce Redis writes | Reviewer: “Redundant history persistence during lock restore” | services/orchestrator/src/services/FileLockManager.ts | 300-324 | Persisting on release keeps Redis and in-memory history aligned for audits and recovery; skipping risks stale state. | If Redis write load from lock releases becomes problematic and alternative consistency guarantees are added. | Current persistence is lightweight and keeps restore history consistent. |
| I3 | ignored | Refactor duplicate lock acquisition logic into shared helper | Reviewer: “Duplicate lock acquisition logic” | services/orchestrator/src/services/FileLockManager.ts | 150-230; 330-400 | Duplication keeps acquire vs. restore flows explicit with different metrics/error handling; refactor risk outweighs benefit now. | If future changes require modifying both paths or maintainability degrades. | Consider helper later if behavior converges further. |
| I4 | ignored | Use only callbacks or only event dispatchers for ApprovalModal actions | Reviewer: “callbacks duplicate event dispatcher pattern; pick one approach” | apps/gui/src/lib/components/ApprovalModal.svelte | 9-70 | Changing the public API is out of scope for this collaboration-focused fix and would be a breaking UX contract. | Revisit alongside a broader ApprovalModal API review or when deprecating dispatcher usage. | Keep existing dual support for backward compatibility. |
| I5 | ignored | Show UI for collaboration error states in the editor | Reviewer: “users see no indication when collaboration fails to connect” | apps/gui/src/lib/components/ide/Editor.svelte | 160-210 | Requires UX design for in-editor error surfacing; deferring keeps scope focused on security fixes and avoids ad-hoc UI. | When a dedicated collaboration status indicator/UI pattern is available. | Logged status transitions for traceability; UI treatment to be designed later. |
| I6 | ignored | Tighten Monaco worker typing for getWorker | Reviewer: “use proper Monaco types instead of any” | apps/gui/src/lib/components/ide/Editor.svelte | 35-50 | Type refinement is low-risk but out of scope for the security-focused fixes in this PR. | When refactoring editor worker setup for TS strictness. | No runtime impact; defer to keep diff minimal. |
| I7 | ignored | Provide more specific normalizeAbsolutePath error messages | Reviewer: “return more specific error reasons (drive-relative, traversal, etc.)” | apps/gui/src/lib/stores/ide.ts | 252-286 | Changing messages risks breaking consumers/tests that expect the current string and provides limited security benefit. | If consumers request differentiated errors or tracing needs granular codes. | Validation already rejects unsafe inputs with generic error. |
| I8 | ignored | Add configurable maxConnectionAttempts/backoff for WebSocket provider | Reviewer: “make reconnection behavior configurable to avoid indefinite retries” | apps/gui/src/lib/components/ide/Editor.svelte | 244-281 | Requires UX/ops alignment on desired reconnect policy; current bounded backoff matches existing behavior. | When collaboration reconnect policy is formally defined. | Keeps current resilience characteristics without new config surface. |
| I9 | ignored | Differentiate error logging for validation vs unexpected failures in room derivation | Reviewer: “distinguish expected validation errors in deriveCollaborationRoom catch block” | apps/gui/src/lib/stores/ide.ts | 470-478 | Current generic logging keeps surface area minimal; expanding messages risks leaking context and offers limited value. | Revisit if observability requirements demand categorized error telemetry. | Validation paths already return safe error states without proceeding. |
| I10 | ignored | Emit structured audit events for collaboration joins/leaves instead of console logs | Reviewer: “Missing audit logging for collaboration events” | apps/gui/src/lib/components/ide/Editor.svelte | 184-360 | Requires wiring to observability stack; deferred to avoid introducing partial logging without backend support. | When centralized audit sink is available for client events. | Current console logging provides basic traceability; full audit path needs coordinated backend work. |
| I11 | ignored | Preserve rate limiter reset semantics when collaboration state resets | Reviewer: “Rate limiter tokens reset on resetCollaborationState allowing bursts” | apps/gui/src/lib/stores/ide.ts | 392-406 | resetCollaborationState is explicitly a full reset used for context changes/tests; keeping limiter reset avoids partially-initialized state and matches function intent. | Revisit if resetCollaborationState becomes user-triggerable at runtime or abuse is observed. | Reset already clears caches and context; maintaining consistent reset behavior keeps system predictable. |
| I12 | ignored | Pass session tokens in WebSocket query parameters for collaboration auth | Reviewer: “Missing session token authentication; include sessionToken in URL” | apps/gui/src/lib/components/ide/Editor.svelte | 265-340 | Embedding tokens in URLs risks exposure in logs/history; current flow relies on same-origin session cookies after validating authenticated sessions. | If backend adds secure header/subprotocol auth for tokens or requires token-based auth without query params. | Added inline comment clarifying cookie-based auth reliance to avoid leaking secrets. |
